\chapter{Wing Lift Characteristics}
\label{ch:worklift}
\markboth{Wing Lift Characteristics}{}

\begin{flushright}
	{\smaller
		\textit{C'è qualcuno che può rompere il muro del suono,\\ mentre tutto il mondo si commenta da solo.}\\
		-- L. Ligabue}
\end{flushright}


Any body in motion in a fluid presents a result of force acting on it, which can be decomposed in two components:
\begin{itemize}
\item A {\bfseries Lift} acting normal to the Velocity direction and is positive upward.
\item A {\bfseries Drag} acting in the opposite direction to the airspeed vector.
\end{itemize}
The lifting surfaces of an airplane are designed to generate lift exceeding their drag, in order to obtain a positive efficiency. \\ In this chapter it will be explained how it is possible to evaluate the complete lift coefficient curve of a wing, both in its linear trait and non linear.\\
The lift coefficient is a dimensionless number used to model all of the complex dependencies of shape, inclination, and some flow conditions on lift. The lift coefficient also contains the effects of air viscosity and compressibility that are molded respectively with the Raynolds and Mach number.% [ Cap. \cite{nasaLift}] 

\section{Theoretical background}

In order to achieve the complete curve of coefficient list it is necessary to obtain the following parameters:

\begin{enumerate}
\item Zero-Lift Angle
\item Lift Coefficient slope 
\item End of Linearity Angle
\item Maximum Lift Coefficient
\item Stall Angle of attack
\end{enumerate}

Following it will be explained the theory behind how these contributions have been made.

\subsection{Zero-Lift Angle and Lift Coefficient Slope}

In order to evaluate the linear trait of the wing lift curve, it is been used the Nasa-Blackwell method.\\ The {\bfseries Nasa-Blackwell} is a numerical method for calculating the subsonic load distribution for arbitrary lifting surface arrangements at a fixed angle of attack. The method is suitable for swept wings, non-planar wings, wing with pylons and/or end-plates; it can be also used to study the aerodynamic interaction of the wing and the horizontal tail. The method has been implemented because its results, as shown in the report, were in good agreement with the experimental results.
The lifting surfaces are divided in several rectangular horse-shoe vortices along the span; one horseshoe vortex along the chord is used, that is, the midpoints of the vortices are placed only at points along the quarter-chord lines. An equal number of control points are located along the three-quarter-chord lines. The velocity from the total vortex system is equated to the component of free-stream velocity normal to the lifting surface chord at each control point. Application of this tangent-flow boundary condition for a symmetrical loading provides a set of N simultaneous equations in the N unknown circulation strengths. Solution of this set of equations provides the loading distributions over the lifting surfaces. Mach number effect is introduced through a Prandtl-Glauert correction. Further details can be found in \cite{NASA:Blackwell}.

In this way  the Zero Lift angle it is calculated using the integral of the load distribution and the linear trait slope starting from the value of CL at $\alpha =  0^{\circ}$ and $\alpha = 2^{\circ}$.

\begin{equation}
CL_{\alpha}= \frac{CL|_2 - CL|_0}{\upDelta \alpha}
\end{equation}

In JPAD it is possible also evaluating these two contributes using different methods. \\
For the evaluation of the $\alpha_{0L}$ it is possible to use a method of the class \texttt{CalcAlpha0L}, a nested class  in \texttt{LSAerodynamicManager}. Using these method, the zero-lift angle is calculated with the following formula, where $\epsilon_T$ is the twist angle:

\begin{equation}
\alpha_{0L} = \frac{1}{S}\int_{-\frac{b}{2}}^{\frac{b}{2}} c(y) [ \alpha_0(y) - \epsilon_T(y) ] \, dy
\end{equation}

This formula  is applied to the exposed wing. When a default aricraft is defined, during the creation of components, is calculated the exposed wing. This is the wing outside of the fuselage. It starts at semi-diameter of fuselage and its root airfoil is the airfoil of wing  at this station calculated by the method \texttt{calculateIntermediateAirfoil}.\\ \\

In order to evaluate the lift coefficient linear slope  it is possible to use different method belonging to \texttt{CalcCLAlpha} class. The first one use the Polhamus formula which is valid for arbitrary aspect ratios and sweep angles in subsonic flow:

\begin{equation}
CL_{\alpha} = \frac{2 \pi \AR}{ \left\{ 2 + \sqrt{\frac{\AR^2 \beta^2}{k^2} \left ( 1 + \frac{\tan^2{(\Lambda_{\frac{c}{2}})}}{\beta^2} \right) + 4 }\right\}}
\end{equation}

Thus $CL_{\alpha}$  is a function of wing aspect ratio, mid-chord sweep angle $\Lambda_{\frac{c}{2}}$, Mach number, and airfoil section (defined parallel to the free stream) lift curve slope. The factor K in the equation is the ratio of the experimental two-dimensional lift curve slope.\\
Alternately it is possible to use the Anderson formula for swept wing, compressible and subsonic flow:

\begin{equation}
CL_{\alpha} = 
\frac{Cl_{\alpha} \cos{\Lambda_{\frac{c}{2}}}}
{\sqrt{1 - M^2  cos^2 {\Lambda_{\frac{c}{2}}}
 + \left[ \frac{Cl_{\alpha} \cos{\Lambda_{\frac{c}{2}}}}{\pi \AR}\right]^2} + \frac{Cl_{\alpha} \cos{\Lambda_{\frac{c}{2}}}}{\pi \AR}}
\end{equation}



\subsection{End of Linearity angle of attack}

The angle of end linearity is calculated using the characteristics of the mean airfoil of the wing. This is obtained through the influence area of the airfoils as shown in fig. \ref{fig:influencearea}.

\begin{figure}[H]
\centering
{\includegraphics[height=3cm]{Immagini/influencearea}} 
\caption{Influence area of the sections for finite wing.}
\label{fig:influencearea}
\end{figure}

Then is possible to calculate the influence coefficients. 

\begin{equation}
K_i = \frac{2 S_i}{S}
\end{equation}

The mean parameters can be obtained from:

\begin{equation}
\overline{x} = x_1 K_1 + x_2 k_2 +x_3 k_3...
\end{equation}

In particular, for a wing defined by three airfoils, the end of linearity angle of attack is obtained from the following equation:

\begin{equation}
\alpha^* = \alpha^*_{1} K_1 + \alpha^*_{2} k_2 +\alpha^*_{3} k_3
\end{equation}

\subsection{Maximum Lift Coefficient}

In order to evauate the maximum lift coefficient the Stall Path Method has been used. The load distribution is calculated using Nasa-Blackwell method.

\begin{figure}[H]
\centering
{\includegraphics[height=6cm]{Immagini/Loading_Stall_Path_A}} 
\caption{Determination of wing lift distribution and Cl distribution of airfoils.}
\label{fig:stall0}
\end{figure}




The  practiced procedure is the following:

\begin{enumerate}
\item For each value of an Alpha array the load distribution is calculated using the NasaBlack method.  The distribution of  $Cl_{max}$ is known. fig. \ref{fig:stall1}.
\item At $\alpha = \alpha_j$ the load distribution curve intersects for the first time the $Cl_{max}$ curve of the airfoils. fig. \ref{fig:stall1}.
\item For each $ y > y_1 $ , along y axis (where y_1 is the station of first intersection) is evaluated the difference between $CL_{wing}$ and $Cl_{max}$. fig. \ref{fig:stall2}.
\item $\upDelta \alpha$ is evaluated until the maximum difference between $CL_{wing}$ and $Cl_{max}$ is smaller than the required accuracy. Actually the accuracy is 0.0001. 
\end{enumerate}

The evauation of $\upDelta \alpha$ is not simple.\\
After finding the first value of intersection between $CL_{wing}$ and $Cl_{max}$ a new $\alpha$ is evaluated. The first value used for the optimization is 

\begin{equation}\notag
\upDelta \alpha = \alpha_j -\alpha_{j-1}
\end{equation}
\begin{equation}\notag
\alpha_{new} = \alpha_j - \frac {\upDelta \alpha }{2}
\end{equation}
\begin{equation}\notag
\alpha_{old}= \alpha_j
\end{equation}

For the following step if there isn't a point of intersection at $\alpha_{new}$ the new value of $\alpha$ is, for the step $j+1$:


\begin{equation}\notag
\upDelta \alpha = |\alpha_{j-1} -\alpha_{j}|
\end{equation}
\begin{equation}\notag
\alpha_{new} = \alpha_{j} + \frac {\upDelta \alpha }{2}
\end{equation}
\begin{equation}\notag
\alpha_{old}= \alpha_j
\end{equation}

Instead,  if there is a point of intersection at $\alpha_{new}$ the new value of $\alpha$ is, for the step $j+1$:


\begin{equation}\notag
\upDelta \alpha =  |\alpha_{j-1} -\alpha_{j}|
\end{equation}
\begin{equation}\notag
\alpha_{new} = \alpha_{j} - \frac {\upDelta \alpha }{2}
\end{equation}
\begin{equation}\notag
\alpha_{old} = \alpha_j
\end{equation}



\begin{figure}[H]
\centering
{\includegraphics[height=6cm]{Immagini/Loading_Stall_Path_B}} 
\caption{Determination of wing lift distribution and Cl distribution of airfoils.}
\label{fig:stall1}
\end{figure}


\begin{figure}[H]
\centering
{\includegraphics[height=6cm]{Immagini/Loading_Stall_Path_D}} 
\caption{Intersection  between $CL_{wing}$ and $Cl_{max}$ curves.}
\label{fig:stall2}
\end{figure}

\begin{figure}[H]
\centering
{\includegraphics[height=6cm]{Immagini/Loading_Stall_Path_E}} 
\caption{Determination of $\upDelta \alpha$.}
\label{fig:stall5}
\end{figure}

\begin{figure}[H]
\centering
{\includegraphics[height=8.3cm]{Immagini/wing_loading_B}} 
\caption{Wing Loading distribution.}
\label{fig:wl}
\end{figure}

\subsection{Stall Angle of Attack}

Nasa-Blackwell is an inviscid method for calculating the subsonic aerodynamic load distributions for arbitrary lifting-surface arrangements. This means that it does not see the non linear trait of the lift curve. So in correspondence of the value of $C_{L_{MAX}}$ calculated, the angle of attack obtained from the Nasa-Blackwell method is not correct because it is the maximum angle of attack that you would get if you reach the max $C_L$ linearly.\\
So first it is evaluated the angle of attack at maximum lift coefficient through the linear trend of the lift line, then it’s added to this angle the increment evaluated by the diagram in fig. \ref{fig:dealpha}, this is valid strictly for wing with high taper ratio without twist, with unique airfoil type and Mach number included between 0.2 and 0.6.


\begin{figure}[H]
\centering
{\includegraphics[height=6.3cm]{Immagini/deltaAlphaSforza.png}} 
\caption{Diagram useful for evaluation of $\upDelta \alpha$.}
\label{fig:dealpha}
\end{figure}



\subsection{Construction of the curve}
At this point all elements are available in order to draft the CL vs $\alpha$ curve.\\ The linear trait is evaluated using the equation of straight line.

\begin{equation}
C_L= C_{L_\alpha} \alpha + C_{L_0}
\end{equation}

%There is a method in \texttt{LSAerodynamicManager} that evaluates the linear slope of lift curve of a lifting surface using Nasa-Blackwell method. This method ( \texttt{nasaBlackwell} in the nested class\texttt{CalcCLAlpha()} evaluate CL wing in correspondence of two alpha and calculates the angolar coefficient.

In order to plot the non linear trait is used a cubic function. In fact in this zone we have four conditions:

\begin{itemize}
\item Pass to $\alpha^{\star}$ , $C_L^{\star}$
\item The derivatine in  $\alpha^{\star}$ , $C_L^{\star}$ is $C_{L_\alpha}$ for continuity
\item Pass to $\alpha_{stall}$ , $C_{L_{MAX}}$
\item The derivatine in  $\alpha_{stall}$ , $C_{L_{MAX}}$ is $0$.Here there is the maximum of the curve.
\end{itemize}

So the system of equations is :

\begin{equation}
\begin{cases}
 C_L^{\star} = a {\alpha^{\star}}^3 +  b {\alpha^{\star}}^2 +  c {\alpha^{\star}} + d \\
 C_{L_\alpha} = 3 a {\alpha^{\star}}^2 +  2b {\alpha^{\star}} +  c  \\ 
 C_{L_{MAX}} = a {\alpha_{stall}}^3 +  b {\alpha_{stall}}^2 +  c {\alpha_{stall}} + d \\
0 = 3 a {\alpha_{stall}}^2 +  2b {\alpha_{stall}} +  c  \\ 
  \end{cases}
\end{equation}



\begin{figure}[H]
\centering
{\includegraphics[height=8.69cm]{Immagini/Wing_CL_Vs_alpha_curve.pdf}} 
\caption{Wing $C_L$ vs $\alpha$ curve.}
\label{fig:clalfa}
\end{figure}


%The method that draws the curve is \texttt{plotCLvsAlphaCurve()} in \texttt{LSAerodynamicsManager}.\\
%The method \texttt{plotCLvsAlphaCurve()} solves the system and calculates the parameters using a static function of \texttt{MyMathUtils}, \texttt{solveLinearSystem}.

\subsection{Mach number effects on Lift curve }
The features of airflow depend heavily from the Mach number. These changes in airflow have a significant effect on the airplane lift. For airplanes that operate entirely within the subsonic speed range, there are no significant effects of compressibility of the air on the airplane lift. For airplanes that operate at high subsonic speeds in the transonic speed region, the airplane lift and drag curves will vary as the flight Mach number is increased due to the compressible nature of the air, so there is a family of lift curves one for each flight Mach number of interest.\\
The family of lift curves is characterized by an increase in the slope of the curve and decrease in maximum lift coefficient as the Mach number increased in the high subsonic region as shown in the fig. \ref{fig:clalfawing}.
The explanation of these Mach number effects on the lift curve has been derived from the theory of compressible flow, and confirmed by experimental data obtained in wind tunnels and from flight tests. It can be shown that, for an airplane at given angle of attack, the lift coefficient will increase with Mach number because the suction on the wing upper surfac, and the pressures on the wing lower surface tend to grow with Mach number.  \cite{manual}

\begin{figure}[H]
\centering
{\includegraphics[height=5.6cm]{Immagini/clamach}} 
\caption{Mach number effects on Lift curve.}
\label{fig:clalfawing}
\end{figure}

\begin{figure}[H]
\centering
{\includegraphics[height=5.6cm]{Immagini/declmach.png}} 
\caption{Mach number effects on Lift linear slope.}
\label{fig:clalfawingslope}
\end{figure}

\subsection{High Lift devices}
The aircraft’s performances at low speed are very important for their mission, infact good high lift devices allow to land or take off on many airports, with their various runways.\cite{adas}
To assure high lift in take-off and landing without varying weight and wing surface, it is varied the airfoil shape, for this reasons high-lift systems are used. High-lift systems are commonly defined as the devices that allow to increase the maximum lift coefficient of the aircraft and consequently to decrease the stalling speeds. 
A great variety of high lift devices exists, many of which are mechanically complex. The most simple systems change only the camber of the aerofoil. More complex concepts not only change camber but also extend the chord, opening up slots as they do so. \cite{howe2000aircraft}\\
High-lift devices can be classified in two main categories: trailing edge devices, or leading edge devices.
TE devices are small aerofoil-like elements that are fitted at the trailing edge of the wing that are called flap, while  at the LE as a slat.


\begin{figure}[H]
\centering
{\includegraphics[height=11.3cm, angle =-90 ]{Immagini/highlift.png}} 
\caption{Different kind of High Lift devices and their effects.}
\label{fig:hl}
\end{figure}

In order to evaluate the new wing lift curve with flap and slat it is necessary to evaluate the contribution due to these devices starting from the clean $C_L$ vs $\alpha$ curve. In particular these contributions on the lift curve are the following:

\begin{itemize}
\item $\upDelta C_{L_0} $ flap 
\item $\upDelta C_{L_{MAX}} $ flap
\item $CL_{\alpha}$ flap 
\item $\upDelta \alpha_{MAX} $ flap
\item $\upDelta C_{L_{MAX}} $ slat
\item $\upDelta \alpha_{MAX} $ slat
\end{itemize}


All of these parameters are calculated using formulas or graphs. For further details see \cite{nicolai2010fundamentals}

\begin{figure}[H]
\centering
{\includegraphics[height=12.9cm]{Immagini/Airfoil_Cl_Vs_alpha_curve_flap_slat.pdf}} 
\caption{Wing $C_L$ vs $\alpha$ curve for clean wing and with high lift devices.}
\label{fig:clalfahl}
\end{figure}


\section{Java Class Architecture}

In this paragraph the implementation inside the JPAD library of the calculation of the wing lift characteristics will be described. In JPAD there are several methods relating to the calculation of lift or wing load, which are summarized in the table below, all contained in \texttt{LSAerodynamicManager} class. In order to have a clear organization of the class, the methods relating to the calculations of the same items are organized in nested classes.

\begin{table}[H]
\begin{tabular}{p{7cm}p{7.5cm}}
\toprule
\lstinline[language=Java]!CalcBasicLoad! & This nested class contains a method that evaluate the basic load semi-spanwise using the Schrenk method.\\ \hline 
\lstinline[language=Java]!CalcLiftDistribution! &This nested class contains some methods that calculates the lift distribution semi-spanwise. It is possible to choose Schrenk method, the Nasa-Blackwell method and it is also possible to evaluate the lift distibution using 50 airfoil and evaluating for each of them the lift coefficient from the 2D lift curves. \\ \hline 
\lstinline[language=Java]!CalcCLAtAlpha! & Using a method of this class it is possible to evaluate the lift coefficient of a lifting surface at a given angle of attack. It is possible to use the following formulas: DLR equation, Anderson compressible subsonic equation and Nasa-Blackwell method. With the last method it is calculated both linear trait and non linear trait. In order to builds the non-linear trait a cubic interpolation is used.\\ \hline 
\lstinline[language=Java]!CalcCLMaxClean! &This class contains some method that evaluatex the maximum lift coefficient of a lifting surface without hig-lift devices. It' possible to use Phillips and Alley method or stall path method in which the load distribution in evaluated with Nasa-Blackwell method.\\ \hline 
\lstinline[language=Java]!plotCLvsAlphaCurve()! & This function plot CL vs Alpha curve of an isolated wing using 30 value of alpha between $\alpha = - 10.0^{\circ}$  deg and  $\alpha = \alpha + 2^{\circ}$.\\ \hline 
\lstinline[language=Java]!CalcCLvsAlphaCurve!&The methods of this class, calculate CL at alpha given as input. It uses values of field filled before. So in order to evaluate the lift coefficient with this class it is necessary to call other method before.\\ \hline 
\lstinline[language=Java]!calcAlphaAndCLMax! & This method calls all the needed method in order to evaluate the maximum lift coefficient and the stall angle.\\ \hline 
\lstinline[language=Java]!CalcHighLiftDevices! & This method calculates the effects of high-lift devices on the lift characteristics.\\ \hline 
\lstinline[language=Java]!CalcCLAlpha! & This class calculates the lift coefficient gradient of the whole lifting surface. It is possible to choose Polhamus formula,  Anderson equation, or Nasa-Blackwell method where the lift coefficient gradient is evaluated from two value of lift coefficient.\\ \hline 
\lstinline[language=Java]!CalcCL0! & This class calculates $C_{L_0}$ using Anderson formula.\\ \hline 
\bottomrule
\end{tabular}
\caption{Methods for lift characteristcs of a lifting surface.}
\label{table:Table2}
\end{table}

In order to evaluate the lift coefficient of a lifting surface and to obtain the lift curve it is necessary, first of all, to define an object of \texttt{LSAerodynamicManager} class. This class holds all aerodynamic analysis methods available for a generic lifting surface. There are different constructors of this class depending on the presence of the aircraft. In fact in JPAD it is possible to analyze a complete aircraft or an isolated wing. In both cases it is necessary to give an object of \texttt{OperatingConditions} class as input parameter. After it is possible to define an object of the nested class \texttt{CalcCLAtAlpha} and then it is possible to use a method of this class in order to evaluate the lift coefficient. The process is shown in Fig.\ref{fig:clalf}.

\begin{figure}[H]
\centering
{\includegraphics[height=14.6cm, angle=90]{Immagini/clflowchart.pdf}} 
\caption{Flow chart of lift estimation classes.}
\label{fig:clalf}
\end{figure}


\section{Case Study}

The last task to be done is to show an application of the calculation of lift characteristics of a lifting surface in order to validate the calculation performed as well as to give a useful example of use. In previous chapters two aircraft were introduced: ATR-72 and B747-100B. On these two aircrafts analyses were made, the results of which are shown below.\\

\subsection{ATR-72}

In order to correctly use the lift modulus of JPAD it is necessary to set the correct Reynolds number of airfoils and, consequently, the correct value of $CL_{MAX}$. Referring to \cite{Abbott} the value for ATR 72 are the following

\begin{center}
\captionof{table}{Airfoils $CL_{MAX}$ for ATR-72. Mach number = 0.4}
	\begin{tabular}{ | l | l | l | l |}
		\hline
		Station & Airfoil & Reynolds Number & $CL_{max}$ \\ \hline
		Root & NACA 23018 & $6.28 \cdot 10^6$ & 1.65 \\ \hline
		Kink & NACA 23018 &  $6.28 \cdot 10^6$ & 1.65 \\ \hline
		Tip & NACA 23015 & $4.41 \cdot 10^6$ & 1.7 \\
		\hline
	\end{tabular}
\end{center}


\begin{figure}[H]
	\centering
	{\includegraphics[height=6.8cm]{Immagini/ATR_Topview.pdf}} 
	\caption{Lift curve for ATR-72 airfoils and wing for M=0.2.}
	\label{fig:clalf}
\end{figure}

\begin{lstlisting}[frame=rbl,caption={{\footnotesize Lift Characteristics of a Lifting Surface - Test Class}},label= [style=\bfseries]{Listing}]

System.out.println("\n\n------------------------------------");
System.out.println("\n LIFT CHARACTERISTICS  ");
System.out.println("\n------------------------------------");


System.out.println("\n ------------------- ");
System.out.println("|       WING        |");
System.out.println(" ------------------- \n\n");

System.out.println("\n \t Data: ");

System.out.println("Angle of attack alpha body (deg) = "
		+ "" + Math.ceil(alphaBody.to(NonSI.DEGREE_ANGLE)
				.getEstimatedValue()));
System.out.println("Angle of incidence of wing (deg) = "
		+ "" +  Math.ceil(theWing.get_iw()
				.to(NonSI.DEGREE_ANGLE)
				.getEstimatedValue()));

System.out.println("\n \n-----------------------------------------------------");
System.out.println("Starting evaluate stall path of wing");
System.out.println("-----------------------------------------------------");

LSAerodynamicsManager theLSAnalysis = new LSAerodynamicsManager(
				theConditions,
				theWing,
				aircraft
				);
				
LSAerodynamicsManager.CalcCLAtAlpha theCLWingCalculator = 
				theLSAnalysis
				.new CalcCLAtAlpha();
cLIsolatedWing = theCLWingCalculator.nasaBlackwellalphaBody(alphaBody);

theLSAnalysis.PlotCLvsAlphaCurve(subfolderPath);
System.out.println("-------------------------------------");
System.out.println("CL of Isolated wing at alpha body = " + cLIsolatedWing);
System.out.println("\n \t \t \tDONE PLOTTING CL VS ALPHA CURVE  ");

// -----------------------------------------------------------------------
// Using NASA-Blackwell method in order to estimate the lifting surface CLmax
// -----------------------------------------------------------------------


LSAerodynamicsManager.CalcCLMaxClean theCLmaxAnalysis = 
		theLSAnalysis
		.new CalcCLMaxClean(); //is nested
LSAerodynamicsManager.CalcCLvsAlphaCurve theCLAnalysis
       = theLSAnalysis.new CalcCLvsAlphaCurve();
theCLAnalysis.nasaBlackwell();
theCLmaxAnalysis.nasaBlackwell();
Amount<Angle> alphaAtCLMax = theLSAnalysis.get_alphaStall();
double clMax = theCLWingCalculator.nasaBlackwell(alphaAtCLMax);


// PLOT

System.out.println("\n \n \t \t WRITING CHART TO FILE. Stall path. ");

// interpolation of CL MAX_airfoil
		MyArray clMaxAirfoil = theCLmaxAnalysis.getClAirfoils();

		MyArray clAlphaThird = theLSAnalysis.getcLMap()
				.getCxyVsAlphaTable()
				.get(MethodEnum.NASA_BLACKWELL ,alphaAtCLMax);

		double [][] semiSpanAd = {
				theLSAnalysis.get_yStationsND(),
				 theLSAnalysis.get_yStationsND()};

		double [][] clDistribution = {
				clMaxAirfoil.getRealVector().toArray(), 
				clAlphaThird.getRealVector().toArray()};
		String [] legend = new String [4];
		legend[0] = "CL max airfoil";
		legend[1] = "CL distribution at alpha " 
		+ Math.toDegrees( alphaAtCLMax.getEstimatedValue());


MyChartToFileUtils.plot(
		semiSpanAd,	clDistribution, // array to plot
		0.0, 1.0, 0.0, 2.0,					
		"eta", "CL", "", "",	    // label with unit
		legend,					// legend
		subfolderPath, "Stall Path of Wing ");			


System.out.println("-----------------------------------------------------");
System.out.println("\t \t DONE ");

\end{lstlisting}


\begin{lstlisting}[caption={{\footnotesize Lift Characteristics of a Lifting Surface - Results for M=0.2. ATR-72}},label= [style=\bfseries]{Listing}]
------------------------------------

 LIFT CHARACTERISTICS  

------------------------------------

 ------------------- 
|       WING        |
 ------------------- 
 	 Data: 
Angle of attack alpha body (deg) = 2.0
Angle of incidence of wing (deg) = 2.0

 
-----------------------------------------------------
Starting evaluate stall path of wing
-----------------------------------------------------

 -----------CLEAN-------------- 
 alpha max 15.229385456031025 (deg)
 alpha star 10.918671750781748 (deg)
 cL max 1.4880884199886235
 cL star 1.1785803287397512
 cL alpha 5.582578511036018 (1/rad)
-------------------------------------
CL of Isolated wing at alpha body = 0.5045422247468523

 	 	 	DONE PLOTTING CL VS ALPHA CURVE  

 
 	 	 WRITING CHART TO FILE. Stall path. 
-----------------------------------------------------
	 	 DONE 
\end{lstlisting}


\noindent \\

\begin{figure}[H]
\centering
\input{immagini/stallpathatr.tikz}
\caption{ATR 72 Stall Path of wing at Mach 0.2.}
\label{fig:stallATR}
\end{figure}


\begin{figure}[H]
\centering
\input{immagini/clalfaatr.tikz}
\caption{ATR 72 CL vs Alpha_w at Mach 0.2.}
\label{fig:clATR}
\end{figure}

\begin{figure}[H]
\centering
\input{immagini/clalfamach.tikz}
\caption{ATR-72 lift curve. Variation with Mach number.}
\label{fig:clATR}
\end{figure}




\begin{center}
\captionof{table}{High-lift devices geometrical data for ATR72}
	\begin{tabular}{| l | l | l | l | l |}
	\hline
		 Number of Flap & Type &  $\eta$ in &  $\eta$ out &   $\frac{c_{f}}{c} $   \\ \hline
		1  & Single Slotted& 0.08  & 0.35 &  0.38 \\ \hline
		2  & Single Slotted& 0.35 & 0.8 & 0.38 \\ \hline
		\hline
	\end{tabular}
\end{center}


\begin{center}
\captionof{table}{High-lift devices data for ATR72}
	\begin{tabular}{ | l | l | l |}
		\hline
		Configuration &  $\delta_{f_1}$ & $\delta_{f_2}$  \\ \hline
		Take off &  $22^{\circ}$ &  $22^{\circ}$\\ \hline
		Landing  &  $40^{\circ}$ &  $40^{\circ}$\\ \hline
		\hline
	\end{tabular}
\end{center}



\begin{figure}[H]
\centering
\input{immagini/CLAlphaWingHighLift_ATR.tikz}
\caption{ATR-72 lift curve with and without flaps in take-off configuration.}
\label{fig:clATR}
\end{figure}


\begin{lstlisting}[caption={{\footnotesize Wing Lift characteristic results for TAKE-OFF. ATR-72, M=0.2 }},label= [style=\bfseries]{Listing}]

 -----------CLEAN-------------- 
 alpha max 17.8116610484647 (deg)
 alpha star 9.6267723716381 (deg)
 cl max 1.5370911540497318
 cl star 0.9854862505109439
 cl alpha 5.227776418346189 (1/rad)

 ----------- DELTA HIGH LIFT TAKE_OFF-------------- 
deltaCL0_flap = 0.80887111935885
deltaCLmax_flap = 0.6053024400694088
deltaCLmax_slat = 0.0
cLalpha_new = (1/rad) 5.26834311032201
deltaAlphaMax = (deg) 2.139367521679026
deltaCD = 0.022631019249350154
deltaCMc_4 = -0.14067311296011697

-----------HIGH LIFT-------------- 
 alpha max 15.47805767446944 (deg)
 alpha star 5.191658954896691 (deg)
 cl max 2.1423935941191408
 cl star 1.393329795148776
 cl alpha 5.26834311032201 (1/rad)


CL wing TAKE_OFF Array [0.594167494459124, 0.6448337842917097, 0.6955000741242955...]

CL of wing at TAKE_OFF at alpha body = 1.2378170282582692

\end{lstlisting}


\subsection{BOEING 747-100B}

\begin{figure}[H]
	\centering
	{\includegraphics[height=6.9cm]{Immagini/BOEING_Topview.pdf}} 
	\caption{Lift curve for BOEING 747-100B similar airfoils and wing.}
	\label{fig:clalf}
\end{figure}

\begin{center}
\captionof{table}{Airfoils $CL_{MAX}$ for BOEING 747-100B. Mach number = 0.84}
	\begin{tabular}{ | l | l | l | l |}
		\hline
		Station & Airfoil & Reynolds Number & $CL_{max}$ \\ \hline
		Root & similar to BAC root 747 & $3.67 \cdot 10^7$ & 1.7 \\ \hline
		Kink & similar to BAC kink 747 &  $2.18 \cdot 10^7$ & 1.73 \\ \hline
		Tip & similar to BAC tip 747 & $9.53 \cdot 10^6$ & 1.82 \\
		\hline
	\end{tabular}
\end{center}



\begin{lstlisting}[caption={{\footnotesize Lift Characteristics of a Lifting Surface - Results. BOEING 747-100B for M=0.84}},label= [style=\bfseries]{Listing}]
------------------------------------

 LIFT CHARACTERISTICS  

------------------------------------

 ------------------- 
|       WING        |
 ------------------- 


	 Data: 
Angle of incidence of wing (deg) = 1.500110492089126
Angle of attack alpha body (deg) = 2.000147322785501
Angle of attack alpha Wing (deg) = 3.4999999999999996

 -----------CLEAN-------------- 
 alpha max 15.632268822248909 (deg)
 alpha star 9.749010907718121 (deg)
 cL max 1.3961111386040277
 cL star 1.0698441603187268
 cL alpha 5.4275479968166955 (1/rad)



CL wing Clean Array [-0.18514784517157623, -0.12715075362802075, ...]

CL of Isolated wing at alpha body = 0.4779522348097419

-------------------------------------
	 	 	WRITING CL vs ALPHA CHART TO FILE  
	 	 	DONE  

-------------------------------------
	 	 	WRITING STALL PATH CHART TO FILE  
	 	 	DONE  

\end{lstlisting}


\begin{figure}[H]
\centering
\input{immagini/stallpathboeing.tikz}
\caption{BOEING 747-100B Stall Path at Mach 0.84.}
\label{fig:stallB}
\end{figure}


\begin{center}
\captionof{table}{High-lift devices geometrical data for BOEING 747-100B. Flap.}
	\begin{tabular}{| l | l | l | l | l |}
		\hline
		 Number of Flap & Type &  $\eta$ in &  $\eta$ out &   $\frac{c_{f}}{c} $  \\ \hline
				1  & Triple Slotted&  0.104  & 0.357  & 0.18 \\ \hline 
		         2& Triple Slotted & 0.411 & 0.636 &0.18\\ \hline 
		\hline
	\end{tabular}
\end{center}


\begin{center}
\captionof{table}{High-lift devices geometrical data for BOEING 747-100B. Slat.}
	\begin{tabular}{| l | l | l | l | l |}
		\hline
		 Number of Slat &  $\eta$ in &  $\eta$ out &   $\frac{c_{ext}}{c} $ & $\frac{c_{s}}{c} $   \\ \hline
				1 & 0.192  & 0.364  &1.1 & 0.09\\ \hline 
		         2 & 0.414  & 0.648  &1.1& 0.136\\ \hline 
		         3 & 0.692  & 0.961  &1.1& 0.187\\ \hline 
		\hline
	\end{tabular}
\end{center}


\begin{center}
\captionof{table}{High-lift devices data for  BOEING 747-100B}
	\begin{tabular}{ | l | l | l | l | l | l |}
		\hline
		Configuration &  $\delta_{f_1}$ & $\delta_{f_2}$ &  $\delta_{s_1}$ & $\delta_{s_2}$& $\delta_{s_3}$ \\ \hline
		Take off &  $5^{\circ}$, $3^{\circ}$, $2^{\circ}$ & $5^{\circ}$, $3^{\circ}$, $2^{\circ}$ & $10^{\circ}$ &  $10^{\circ}$ &  $10^{\circ}$\\ \hline
		Landing  &    $10^{\circ}$, $10^{\circ}$, $10^{\circ}$ & $10^{\circ}$, $10^{\circ}$, $10^{\circ}$ & $20^{\circ}$ &  $20^{\circ}$ &  $20^{\circ}$\\ \hline
		\hline
	\end{tabular}
\end{center}


\begin{figure}[H]
\centering
\input{immagini/CLAlphaWingHighLift_B747.tikz}
\caption{BOEING 747-100B  lift curve with and without flaps in take-off configuration.}
\label{fig:clATR}
\end{figure}

\begin{lstlisting}[caption={{\footnotesize Wing Lift characteristic results for TAKE-OFF. BOEING 747-100B, M=0.2 }},label= [style=\bfseries]{Listing}]


-----------CLEAN-------------- 
 alpha max 21.1765973230843 (deg)
 alpha star 9.7482928348910 (deg)
 cl max 1.4597134105954703
 cl star 0.8130642471456172
 cl alpha 4.121408852511737 (1/rad)


 ----------- DELTA HIGH LIFT TAKE_OFF-------------- 
deltaCL0_flap = 0.5985742466275841
deltaCLmax_flap = 0.6272563565428977
deltaCLmax_slat = 0.0
cLalpha_new = (1/rad) 4.153009870215378
deltaAlphaMax = (deg) 2.4385950909414857
deltaCD = 0.023580578759700432
deltaCMc_4 = -0.12074049808439227


 -----------HIGH LIFT-------------- 
 alpha max 21.431119618227623 (deg)
 alpha star 10.003551951328152 (deg)
 cl max 2.086969767138368
 cl star 1.4354638015005163
 cl alpha 4.153009870215378 (1/rad)
 
 CL of wing at TAKE_OFF at alpha body 2 (deg) = 0.9641157258005986
\end{lstlisting}

\section{Modified Stall Path}

In order to evaluate the lift curve of a wing another method has been implemented. This is a modification of Stall Path Method that uses the Nasa-Blackwell lift distribution also for the non linear trait. As known NB method does not see the viscous phenomena. The modified stall path method is based on the consideration that the lift distribution obtained from Nasa-Blackwell is the distribution that you would get if the airfoil's lift moved along the linear lift curve.\\
The process is the following.

\begin{enumerate}
	\item For each angle of attack the lift distribution using Nasa-Blackwell method has been evaluated
	\item For each of n point along the semi-span the local value of $C_L$ is obtained 
	\item Each of these n points corresponds to an intermediate airfoil with its own lift curve
	\item With the local value of $C_l$  it is possible to enter in the linear lift chart obtaining the angle of attack of the airfoil
	\item Using this angle of attack it is possible to enter in the lift curve of the airfoil and derive the local $C_l$
	\item In this way a new lift distribution is obtained that considers the bidimensional non linearity.
	\item The wing $C_L$ is obtained integrating the new lift distribution.
\end{enumerate}

\begin{figure}[H]
	\centering
	{\includegraphics[height=9 cm]{Immagini/stallpathmodified.pdf}} 
	\caption{Flow chart of the modified stall path method.}
	\label{fig:spmm}
\end{figure}

\section{Results Comparison}
In order to compare and validate the results an analysis on a wing has been done with different method.

\begin{center}
\captionof{table}{Airfoils Data}
	\begin{tabular}{| l | l | l | l | l |}
		\hline
		 Station & t/c & $C_{l_{max}}$ & $C_{l_{\alpha}}$ & $\alpha_{stall}$ \\ \hline
		 Root & $0.18$ &  1.90  &  $6.48 (1/rad)$ & $ 18^{\circ} $  \\ \hline
		 Kink & $0.18$ & 1.90  &  $6.48 (1/rad)$ & $ 18^{\circ} $  \\ \hline
		 Tip & $0.18$ &  2.1  &  $6.72 (1/rad)$ & $ 17.5^{\circ} $  \\ \hline
		\hline
	\end{tabular}
\end{center}
\begin{center}
\captionof{table}{Wing Data}
	\begin{tabular}{| l | l | l | l | l |  l |}
		\hline
		  Span & Aspect Ratio & Cr & Ck & Cr & Ad. station kink  \\ \hline
		  31  m & 12 & 2.9 m & 2.9 m & 1.65 m & 0.33\\ \hline
		\hline
	\end{tabular}
\end{center}
\begin{center}
\captionof{table}{Mission Data}
	\begin{tabular}{| l | l |}
		\hline
		  Reynolds Number & Mach Number\\ \hline
		  $13 \cdot 10^6$  & 0.2   \\ \hline
		\hline
	\end{tabular}
\end{center}


The analysis has been done with the following methods :

\begin{itemize}
\item Stall Path
\item Modified Stall Path
\item Philipps and Alley
\item CFD
\end{itemize}

{\bfseries Phillips and Alley} present a method for estimating the maximum wing lift that is based on the classical lifting line theory discussed in Appendix C. Their approach involves providing correction factors for the effects of twist and sweep-back on the span loading of unswept, untwisted, tapered wings. The correction factors are developed with the aid of CFD panel method computations for a variety of conventional wing planforms. Curves for the correction factors are presented for a number of specific taper and aspect ratio as long with the general method for calculating these effects for other wing geometry. \cite{sforza2014commercial}

\begin{equation}
C_{L_{max}} = \left ( \frac{C_L}{c_{l_{max}}}\right)_{\Gamma =0 , \epsilon =0} K_{LS} K_{L\Gamma c_{l_{max}}} \left ( 1 - \frac { K_{L \epsilon} C_{L,\alpha \epsilon}}{c_{l_{max}}} \right) 
\end{equation}

Where $K_{LS}$ is a stall factor

\begin{equation}
K_{LS}=1 + (0.0042 \AR -0.066) \left (1+2.3 \frac{C_{L_{\alpha}}}{ c_{l_{max}}} \right )
\end{equation}

\noindent \\
{\bfseries Computational Fluid Dynamics (CFD)} is a methodology that allows engineers to predict the performance of their designs when exposed to fluid flow, either internal flow (such as the flow of air and gasoline through an engine manifold) or external flow (such as the aerodynamic flow past an automobile or the hydrodynamic flow past a boat). CFD software programs can simulate problems involving gases, liquids and solids and multi-phase problems that depend on the interaction of any number of the above. CFD is used in the design of almost every major product, reducing uncertainty in the design process, and resulting in higher quality products and designs, with greater robustness that better meet customer requirements. CD-adapco is the world's largest independent CFD focused provider of engineering simulation software, support and services. \cite{adapco} \\ \\
Considering the reduction of $CL_{max}$ due to flow separation and other tridimensional effects, an additional modification has been implemented starting from the Stall Path method and the Modified Stall Path Method. The used value for $CL_{max}$ is obtained from the traditional Stall Path method, while the value of $\alpha_{max}$ is obtained from the modified Stall Path Method. In this way a small percentual error has been obtained.


\begin{figure}[H]
	\centering
	{\includegraphics[height=4.9 cm]{Immagini/comparisonairfoil.png}} 
	\caption{Comparison of wing lift curve of airfoils.}
	\label{fig:met}
\end{figure}
	 	 
\noindent \\

	 	 
\begin{figure}[H]
	\centering
	{\includegraphics[height=9.9 cm]{Immagini/clmaxcomparison1.png}} 
	\caption{Comparison of wing lift curve of wing.}
	\label{fig:met}
\end{figure}
	 	 
	 	 
\noindent \\
\begin{center}
\captionof{table}{Lift results comparison}
	\begin{tabular}{| l | l | l | }
		\hline
		 Method  & $C_{L_{MAX}}$ & $\alpha_{stall}$   \\ \hline
		 Stall Path  &1.766  & $17.1 ^{\circ}$  \\ \hline
		 Modified Stall Path  & 1.86   & $19.5^{\circ}$  \\ \hline
		 Modified Stall Path II  & 1.766  & $19.5^{\circ}$  \\ \hline
		 Phillips And Alley  & 1.83  & n.e.\\ \hline
		 CFD  & 1.699  & $19.6 ^{\circ}$   \\ \hline
		\hline
	\end{tabular}
\end{center}

\begin{figure}[H]
	\centering
	{\includegraphics[height=2.63cm]{Immagini/referencepercent.png}} 
	\caption{Percentage Error.}
	\label{fig:met}
\end{figure}

