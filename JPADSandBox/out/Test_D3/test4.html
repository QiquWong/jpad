<?xml version="1.0" encoding="UTF-8"?>
<HTML xmlns="http://www.w3.org/1999/xhtml">
   <HEAD>
      <META charset="utf-8"/>
      <SCRIPT type="text/javascript"
              src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG"> </SCRIPT>
      <SCRIPT type="text/javascript">/*&#xD;
 * SVG_MathJax&#xD;
 * &#xD;
 * Copyright 2014 Jason M. Sachs&#xD;
 * Based loosely on an approach outlined by Martin Clark&#xD;
 * in http://stackoverflow.com/a/21923030/44330&#xD;
 *&#xD;
 * Licensed under the Apache License, Version 2.0 (the "License");&#xD;
 * you may not use this file except in compliance with the License.&#xD;
 * You may obtain a copy of the License at&#xD;
 *&#xD;
 *  http://www.apache.org/licenses/LICENSE-2.0&#xD;
 *&#xD;
 * Unless required by applicable law or agreed to in writing, software&#xD;
 * distributed under the License is distributed on an "AS IS" BASIS,&#xD;
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.&#xD;
 * See the License for the specific language governing permissions and&#xD;
 * limitations under the License.&#xD;
 */&#xD;
 &#xD;
Svg_MathJax = (function() {&#xD;
    // apply a function to elements of an array x&#xD;
    function forEach(x,f) { &#xD;
        var n = x.length; for (var i = 0; i < n; ++i) { f(x[i]); } &#xD;
    }&#xD;
&#xD;
    // find all the SVG text elements that are delimited by &#xD;
    // \( \) or $ $ MathJax delimiters &#xD;
    // (with optional whitespace before/after)&#xD;
    function findSVGMathJax(f, context)&#xD;
    {&#xD;
        var re = /^\s*([LlRrCc]?)(\\\(.*\\\)|\$.*\$)\s*$/;&#xD;
        context = context || document;&#xD;
        forEach(context.getElementsByTagName('svg'), function(svg) {&#xD;
            forEach(svg.getElementsByTagName('text'), function(t) {&#xD;
                var m = t.textContent.match(re);&#xD;
                if (m)&#xD;
                {&#xD;
                    f(svg, t, m);&#xD;
                }&#xD;
            });&#xD;
        });&#xD;
    }&#xD;
&#xD;
    function _install(options) {&#xD;
        var items = [];&#xD;
&#xD;
        // Move the raw MathJax items to a temporary element&#xD;
        MathJax.Hub.Register.StartupHook("Begin Typeset",function () { &#xD;
            var mathbucket = document.createElement('div');&#xD;
            mathbucket.setAttribute('id','mathjax_svg_bucket');&#xD;
            document.body.appendChild(mathbucket);&#xD;
            findSVGMathJax(function(svg, t, m) { &#xD;
                var d = document.createElement('div');&#xD;
                mathbucket.appendChild(d);&#xD;
                var mathmarkup = m[2].replace(/^\$(.*)\$$/,'\\($1\\)');&#xD;
                d.appendChild(document.createTextNode(mathmarkup));&#xD;
                t.textContent = '';	&#xD;
                items.push([t,d,m[1]]);&#xD;
            });&#xD;
        });&#xD;
        MathJax.Hub.Register.StartupHook("End Typeset",function() {&#xD;
            forEach(items, function(x) {&#xD;
                var svgdest = x[0]; &#xD;
                var mathjaxdiv = x[1]; &#xD;
                var justification = x[2];&#xD;
                var svgmath = &#xD;
                     mathjaxdiv.getElementsByClassName('MathJax_SVG')[0]&#xD;
                               .getElementsByTagName('svg')[0];&#xD;
                var svgmathinfo = {&#xD;
                  width: svgmath.viewBox.baseVal.width, &#xD;
                  height: svgmath.viewBox.baseVal.height&#xD;
                };&#xD;
                // get graphics nodes&#xD;
                var gnodes = &#xD;
                    svgmath.getElementsByTagName('g')[0].cloneNode(true);&#xD;
                var fontsize = svgdest.getAttribute('font-size');&#xD;
                var scale = options.scale*fontsize;&#xD;
                var x =  +svgdest.getAttribute('x');&#xD;
                var y =  +svgdest.getAttribute('y');&#xD;
&#xD;
                var x0 = x;&#xD;
                var y0 = y;&#xD;
                var x1;&#xD;
                switch (justification.toUpperCase())&#xD;
                {&#xD;
                case 'L': x1 = 0; break;&#xD;
                case 'R': x1 = -svgmathinfo.width; break;&#xD;
                case 'C': // default to center&#xD;
                default:  x1 = -svgmathinfo.width * 0.5; break;&#xD;
                }&#xD;
                var y1 = svgmathinfo.height*0;&#xD;
                gnodes.setAttribute('transform', 'translate('+x0+' '+y0+')'&#xD;
                     +' scale('+scale+') translate('+x1+' '+y1+')'&#xD;
                     +' matrix(1 0 0 -1 0 0)');&#xD;
                if (options.escape_clip)&#xD;
                    svgdest.parentNode.removeAttribute('clip-path');&#xD;
                svgdest.parentNode.replaceChild(gnodes,svgdest);&#xD;
            });&#xD;
            // remove the temporary items&#xD;
            var mathbucket = document.getElementById('mathjax_svg_bucket');&#xD;
            mathbucket.parentNode.removeChild(mathbucket);&#xD;
        });&#xD;
    }&#xD;
    &#xD;
    var F = function()&#xD;
    {&#xD;
        this.scale = 0.0016;&#xD;
        this.escape_clip = false;&#xD;
    };&#xD;
    F.prototype.install = function() { _install(this); }&#xD;
    return F;&#xD;
})();&#xD;
</SCRIPT>
      <SCRIPT type="text/javascript">new Svg_MathJax().install();</SCRIPT>
      <LINK rel="stylesheet"
            type="text/css"
            href="file:/C:/Users/agodemar/ADOPT_PROJECT/jpad/JPADSandBox/bin/sandbox/adm/javafxd3/test/JavaFXD3_Test_06.css"
            media="all"/>
   </HEAD>
   <BODY style="margin:0;padding:0;">
      <DIV id="root"
           ondblclick="saveSvg()"
           style="margin:0;padding:0;font-family:Consolas;font-size:small;">
         <svg xmlns="http://www.w3.org/2000/svg"
              id="svg"
              class="chart"
              width="700"
              height="500">
            <style>&#xD;
svg {&#xD;
  font: 10px sans-serif;&#xD;
  shape-rendering: crispEdges;&#xD;
}&#xD;
rect {&#xD;
  fill: #c0d2dd;&#xD;
}&#xD;
&#xD;
.chart {&#xD;
&#xD;
}&#xD;
&#xD;
.main {&#xD;
	&#xD;
}&#xD;
&#xD;
.main text {&#xD;
    font: 10px sans-serif;	&#xD;
}&#xD;
&#xD;
.axis line, .axis path {&#xD;
    shape-rendering: crispEdges;&#xD;
    stroke: black;&#xD;
    fill: none;&#xD;
    stroke-width:1;&#xD;
    stroke-miterlimit:4;&#xD;
    stroke-dasharray:none;&#xD;
    stroke-opacity:1;&#xD;
}&#xD;
&#xD;
circle {&#xD;
    fill: darkgreen; /* steelblue; */&#xD;
}&#xD;
</style>
            <g transform="translate(40,20)">
               <rect width="640" height="450"/>
               <g class="x axis" transform="translate(0,450)">
                  <g class="tick" transform="translate(0,0)" style="opacity: 1;">
                     <line y2="-450" x2="0"/>
                     <text dy=".71em" y="12" x="0" style="text-anchor: middle;">0</text>
                  </g>
                  <g class="tick" transform="translate(64,0)" style="opacity: 1;">
                     <line y2="-450" x2="0"/>
                     <text dy=".71em" y="12" x="0" style="text-anchor: middle;">5</text>
                  </g>
                  <g class="tick" transform="translate(128,0)" style="opacity: 1;">
                     <line y2="-450" x2="0"/>
                     <text dy=".71em" y="12" x="0" style="text-anchor: middle;">10</text>
                  </g>
                  <g class="tick" transform="translate(192,0)" style="opacity: 1;">
                     <line y2="-450" x2="0"/>
                     <text dy=".71em" y="12" x="0" style="text-anchor: middle;">15</text>
                  </g>
                  <g class="tick" transform="translate(256,0)" style="opacity: 1;">
                     <line y2="-450" x2="0"/>
                     <text dy=".71em" y="12" x="0" style="text-anchor: middle;">20</text>
                  </g>
                  <g class="tick" transform="translate(320,0)" style="opacity: 1;">
                     <line y2="-450" x2="0"/>
                     <text dy=".71em" y="12" x="0" style="text-anchor: middle;">25</text>
                  </g>
                  <g class="tick" transform="translate(384,0)" style="opacity: 1;">
                     <line y2="-450" x2="0"/>
                     <text dy=".71em" y="12" x="0" style="text-anchor: middle;">30</text>
                  </g>
                  <g class="tick" transform="translate(448,0)" style="opacity: 1;">
                     <line y2="-450" x2="0"/>
                     <text dy=".71em" y="12" x="0" style="text-anchor: middle;">35</text>
                  </g>
                  <g class="tick" transform="translate(512,0)" style="opacity: 1;">
                     <line y2="-450" x2="0"/>
                     <text dy=".71em" y="12" x="0" style="text-anchor: middle;">40</text>
                  </g>
                  <g class="tick" transform="translate(576,0)" style="opacity: 1;">
                     <line y2="-450" x2="0"/>
                     <text dy=".71em" y="12" x="0" style="text-anchor: middle;">45</text>
                  </g>
                  <g class="tick" transform="translate(640,0)" style="opacity: 1;">
                     <line y2="-450" x2="0"/>
                     <text dy=".71em" y="12" x="0" style="text-anchor: middle;">50</text>
                  </g>
                  <path class="domain" d="M0,-450V0H640V-450"/>
               </g>
               <g class="y axis">
                  <g class="tick" transform="translate(0,405)" style="opacity: 1;">
                     <line x2="640" y2="0"/>
                     <text dy=".32em" x="-5" y="0" style="text-anchor: end;">-20</text>
                  </g>
                  <g class="tick" transform="translate(0,315)" style="opacity: 1;">
                     <line x2="640" y2="0"/>
                     <text dy=".32em" x="-5" y="0" style="text-anchor: end;">-10</text>
                  </g>
                  <g class="tick" transform="translate(0,225)" style="opacity: 1;">
                     <line x2="640" y2="0"/>
                     <text dy=".32em" x="-5" y="0" style="text-anchor: end;">0</text>
                  </g>
                  <g class="tick"
                     transform="translate(0,135.00000000000003)"
                     style="opacity: 1;">
                     <line x2="640" y2="0"/>
                     <text dy=".32em" x="-5" y="0" style="text-anchor: end;">10</text>
                  </g>
                  <g class="tick"
                     transform="translate(0,44.99999999999999)"
                     style="opacity: 1;">
                     <line x2="640" y2="0"/>
                     <text dy=".32em" x="-5" y="0" style="text-anchor: end;">20</text>
                  </g>
                  <path class="domain" d="M640,0H0V450H640"/>
               </g>
            </g>
            <g transform="translate(40,20)"
               width="640"
               height="450"
               class="main">
               <g>
                  <circle cy="197.99999999999997" cx="64" r="5" style="opacity: 1;"/>
                  <circle cy="72.00000000000001" cx="128" r="5" style="opacity: 1;"/>
                  <circle cy="189.00000000000003" cx="320" r="5" style="opacity: 1;"/>
                  <circle cy="135.00000000000003" cx="409.6" r="5" style="opacity: 1;"/>
                  <circle cy="171" cx="512" r="5" style="opacity: 1;"/>
                  <circle cy="405" cx="512" r="5" style="opacity: 1;"/>
                  <circle cy="405" cx="192" r="5" style="opacity: 1;"/>
                  <circle cy="225" cx="89.60000000000001" r="5" style="opacity: 1;"/>
                  <g class="Pippo-line-group">
                     <path class="Agodemar-Test-Line"
                           fill="gray"
                           stroke="red"
                           stroke-width="5"
                           stroke-linecap="square"
                           stroke-dasharray="15,10"
                           d="M64,197.99999999999997C66.1875959676881,193.69317043861403,98.81573637261859,91.8361791842358,128,72.00000000000001S273.0671928087275,188.84285890449354,320,189.00000000000003S377.6,135.00000000000003,409.6,135.00000000000003S512,171,512,171S565.3333333333334,405,512,405S262.4,405,192,405S93.77287628030066,232.33513408646598,89.60000000000001,225"/>
                  </g>
                  <g class="MathJax-group">
                     <text x="100" y="60" width="400" height="200" font-size="14">\( x = \sum_{i \in A} \frac{f_{\mathrm{GT}}^i}{2} \)</text>
                     <foreignObject x="200" y="30" width="400" height="200" font-size="14">\( y = f_i (x) \)</foreignObject>
                  </g>
               </g>
            </g>
         </svg>
         <DIV>scale:</DIV>
         <DIV>translate:</DIV>
      </DIV>
      <SCRIPT>
function saveSvg(e){
	  var svg = document.getElementById('svg');
	  var svgXml = (new XMLSerializer).serializeToString(svg);
   d3.saveHelper.saveSvg(svgXml);
}
</SCRIPT>
   </BODY>
</HTML>
